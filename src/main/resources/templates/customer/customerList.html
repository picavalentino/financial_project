<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org" xmlns:layout="www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<!--security 적용 후 아래 코드로 변경해주세요-->
<!--<html xmlns:th="www.thymeleaf.org" xmlns:layout="www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}" xmlns:sec="www.thymeleaf.org/extras/spring-security">-->
<head>
    <meta charset="UTF-8">
    <title>GS Bank</title>
    <!-- 전체 적용될 CSS -->
    <th:block layout:fragment="css"></th:block>
    <!-- 전체 적용될 스크립트 -->
    <th:block layout:fragment="script"></th:block>
    <!-- 페이지별 고객 조회 CSS -->
    <link rel="stylesheet" th:href="@{/css/customer/customerList.css}">
    <link rel="stylesheet" th:href="@{/css/customer/customerListModal.css}">
    <script src="/js/customer/customerListModal.js"></script>
</head>
<body>
<div layout:fragment="content" class="content">
    <div class="main-content">
        <section class="location">
            <div class="breadcrumb">
                <span class="icon">🏠</span>
                <a href="/main">Home</a> &gt;
                <a href="/customer/list">고객관리</a> &gt;
                <span>고객목록</span>
            </div>
            <h2>고객목록</h2>
        </section>
        <!--       ======================================================================================================         -->
        <section class="customer-query">
            <div class="actions">
                <!-- 왼쪽 버튼 그룹 -->
                <div class="left-actions">
                    <button class="print-button" onclick="openPrintModal()">
                        <span class="icon">🖨️</span> 인쇄
                    </button>
                    <button class="message-button" onclick="openMessageModal()">
                        <span class="icon">✉️</span> 메시지 발송
                    </button>
                </div>
                <!--       ======================================================================================================         -->
                <!-- 오른쪽 버튼 그룹 -->
                <div class="right-actions">
                    <div class="search">
                        <select>
                            <option>검색</option>
                            <option>고객명</option>
                            <option>이메일</option>
                            <option>담당자</option>
                            <option>활동 상태</option>
                        </select>
                        <input type="text" placeholder="검색어를 입력하세요">
                        <button class="search-button">
                            <span class="icon">🔍</span> 검색
                        </button>
                    </div>
                    <button class="register-button" onclick="openInsertModal()">
                        <span class="icon">➕</span> 등록
                    </button>
                </div>
            </div>
            <!--       ======================================================================================================         -->
            <table>
                <thead>
                <tr>
                    <th><input type="checkbox" onclick="toggleAll(this)"></th>
                    <th>고객ID</th>
                    <th>고객명</th>
                    <th>생년월일</th>
                    <th>전화번호</th>
                    <th>Email</th>
                    <th>담당자</th>
                    <th>활동 상태</th>
                    <th>등록일</th>
                </tr>
                </thead>
                <!--       ======================================================================================================         -->
                <tbody>
                <tr th:each="customer : ${customers}">
                    <td>
                        <input type="checkbox" name="selectedCustomers" th:value="${customer.custId}">
                    </td>
                    <td th:text="${customer.custId}">001</td>
                    <td>
                        <a href="#" th:text="${customer.custNm}">이름</a>
                    </td>
                    <td th:text="${customer.custRrn}">19940926</td>
                    <td th:text="${customer.custTelno}">010-1111-1111</td>
                    <td th:text="${customer.custEmail}">aaa@naver.com</td>
                    <td>김사원</td>
                    <td th:text="${customer.custStateCd}"><span class="status active">상태</span></td>
                    <td th:text="${customer.custCreateAt}">2024-11-18</td>
                </tr>
                </tbody>
            </table>
            <!--       ======================================================================================================         -->
            <div class="pagination-container">
                <div class="pagination">
                    <!-- 이전 페이지 버튼 -->
                    <button th:disabled="${currentPage == 1}"
                            th:onclick="'location.href=\'?page=' + (${currentPage - 1}) + '\'">&lt;
                    </button>

                    <!-- 페이지 번호 링크들 -->
                    <span th:each="i : ${#numbers.sequence(1, totalPages)}">
                        <a th:href="@{'?page=' + ${i}}" th:text="${i}"
                           th:classappend="${currentPage == i} ? 'active' : ''"></a>
                    </span>

                    <!-- 다음 페이지 버튼 -->
                    <button th:disabled="${currentPage == totalPages}"
                            th:onclick="'location.href=\'?page=' + (${currentPage + 1}) + '\'">&gt;
                    </button>
                </div>
                <!-- 현재 페이지와 총 페이지 정보 -->
                <span class="pagination-info" th:text="'페이지 ' + ${currentPage} + ' / ' + ${totalPages}"></span>
            </div>
        </section>
    </div>
    <!-- ======================================================================================================================== -->
    <!--모달 이동-->
    <div th:replace="~{customer/customerListModal :: customerPrintModal}"></div>
    <div th:replace="~{customer/customerListModal :: customerMessageModal}"></div>
    <div th:replace="~{customer/customerListModal :: customerInsertModal}"></div>
</div>
</body>
</html>
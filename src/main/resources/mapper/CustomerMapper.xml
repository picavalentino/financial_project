<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.team.financial_project.mapper.CustomerMapper">

    <!-- 고객 목록 조회 (페이징 처리 포함) -->
    <select id="getCustomersWithPagination" resultType="com.team.financial_project.customer.dto.CustomerDTO">
        SELECT cust_id AS custId,
        cust_nm AS custNm,
        cust_rrn AS custRrn,
        cust_telno AS custTelno,
        cust_email AS custEmail,
        cust_occp_ty_cd AS custOccpTyCd,
        cust_addr AS custAddr,
        cust_create_at AS custCreateAt,
        cust_update_at AS custUpdateAt,
        cust_state_cd
        FROM tb_customer
        ORDER BY cust_create_at
        LIMIT #{limit}
        OFFSET #{offset}
    </select>

    <!-- 총 고객 수 조회 -->
    <select id="getTotalCustomerCount" resultType="int">
        SELECT COUNT(*) FROM tb_customer
    </select>

</mapper>
